(function(a,b,c){function N(a){bc=this,a=a||{},bk=a.constants||{};if(a.easing)for(var c in a.easing)M[c]=a.easing[c];bf={beforerender:a.beforerender,render:a.render},bg=a.forceHeight!==!1;if(a.smoothScrolling!==!1){var d=bc.getScrollTop();bo={targetTop:d,lastTop:d}}bg&&(bj=a.scale||1),Z(e,[j],[k]);if(bg){var g=b.createElement("div"),h=g.style;h.width="1px",h.position="absolute",h.right=h.top=h.zIndex="0",f.appendChild(g),bi=function(){h.height=bh+e.clientHeight+"px",O()}}else bi=function(){bh=f.scrollHeight-e.clientHeight,O(),bp=!0};return bc.refresh(),Y("resize",bi),function i(){x(i),Q()}(),bc}"use strict";var d=Object.prototype.hasOwnProperty,e=b.documentElement,f=b.body,g="rendered",h="un"+g,i="skrollable",j="skrollr",k="no-"+j,l="linear",m=1e3,n=200,o=100,p=100,q="start",r="end",s="top",t="center",u="bottom",v="___has_rendered_class",w="___skrollable_id",x=a.requestAnimationFrame;(function(){var b=["ms","moz","webkit","o"],c;for(c=0;c<b.length&&!x;c++)x=a[b[c]+"RequestAnimationFrame"];var d=0;x||(x=function(b){var c=ba(),e=Math.max(0,16-(c-d));a.setTimeout(function(){b(c+e)},e),d=c+e})})();var y=/^\s*(.+)\s*$/m,z=/^data(?:-(_\w+))?(?:-?(-?\d+))?(?:-?(start|end|top|center|bottom))?(?:-?(top|center|bottom))?$/,A=/:|;/g,B=/^([a-z\-]+)\[(\w+)\]$/,C=/-([a-z])/g,D=function(a,b){return b.toUpperCase()},E=/(:?\+|-)?[\d.]+/g,F=/rgba?\(\s*-?\d+\s*,\s*-?\d+\s*,\s*-?\d+/g,G=/[a-z\-]+-gradient/g,H=/^O|Moz|webkit|ms/,I,J;if(a.getComputedStyle){var K=a.getComputedStyle(f,null);for(var L in K){I=L.match(H)||+L==L&&K[L].match(H);if(I)break}}I=(I||[""])[0],J="-"+I.toLowerCase()+"-",H=c;var M={begin:function(){return 0},end:function(){return 1},linear:function(a){return a},quadratic:function(a){return a*a},cubic:function(a){return a*a*a},swing:function(a){return-Math.cos(a*Math.PI)/2+.5},sqrt:function(a){return Math.sqrt(a)},bounce:function(a){var b;if(a<=.5083)b=3;else if(a<=.8489)b=9;else if(a<=.96208)b=27;else if(a<=.99981)b=91;else return 1;return 1-Math.abs(3*Math.cos(a*b*1.028)/b)}};N.prototype.refresh=function(a){var d,e=!1;a===c?(e=!0,be=[],bq=0,a=b.getElementsByTagName("*")):a=[].concat(a);for(d=0;d<a.length;d++){var f=a[d],j=f,k=[];if(!f.attributes)continue;for(var l=0;l<f.attributes.length;l++){var m=f.attributes[l];if(m.name==="data-anchor-target"){j=b.querySelector(m.value);if(j===null)throw'Unable to find anchor target "'+m.value+'"';continue}var n=m.name.match(z);if(n!==null){var o=n[1];o=o&&bk[o.substr(1)]||0;var p=(n[2]|0)*bj+o,s=n[3],t=n[4]||s,u={offset:p,props:m.value,element:f};k.push(u),!s||s===q||s===r?(u.mode="absolute",s===r?u.isEnd=!0:(u.frame=p,delete u.offset,u.frame>bh&&(bh=u.frame))):(u.mode="relative",u.anchors=[s,t])}}if(k.length){var v;!e&&w in f?v=f[w]:v=f[w]=bq++,be[v]={element:f,anchorTarget:j,keyFrames:k},Z(f,[i,h],[g])}}bi();for(d=0;d<a.length;d++){var x=be[a[d][w]];if(x===c)continue;x.keyFrames.sort(bb),R(x),T(x)}return bc},N.prototype.relativeToAbsolute=function(a,b,c){var d=e.clientHeight,f=a.getBoundingClientRect(),g=f.top;return b===u?g-=d:b===t&&(g-=d/2),c===u?g+=f.height:c===t&&(g+=f.height/2),g+=bc.getScrollTop(),g+.5|0},N.prototype.animateTo=function(a,b){b=b||{};var d=ba(),e=bc.getScrollTop();return bn={startTop:e,topDiff:a-e,targetTop:a,duration:b.duration||m,startTime:d,endTime:d+(b.duration||m),easing:M[b.easing||l],done:b.done},bn.topDiff||(bn.done&&bn.done.call(bc,!1),bn=c),bc},N.prototype.stopAnimateTo=function(){bn&&bn.done&&bn.done.call(bc,!0),bn=c},N.prototype.isAnimatingTo=function(){return!!bn},N.prototype.setScrollTop=function(b){return(a.skrollr.scrollerInstance||a).scrollTo(0,b),bc},N.prototype.getScrollTop=function(){return a.skrollr.scrollerInstance?a.skrollr.scrollerInstance.__scrollTop:a.pageYOffset||e.scrollTop||f.scrollTop||0},N.prototype.on=function(a,b){return bf[a]=b,bc},N.prototype.off=function(a){return delete bf[a],bc};var O=function(){for(var a=0;a<be.length;a++){var b=be[a],c=b.anchorTarget,d=b.keyFrames;for(var e=0;e<d.length;e++){var f=d[e];f.mode==="relative"?f.frame=bc.relativeToAbsolute(c,f.anchors[0],f.anchors[1])-f.offset:f.isEnd&&(f.frame=bh-f.offset)}}},P=function(a){for(var b=0;b<be.length;b++){var c=be[b],e=c.keyFrames,f=e[0].frame,i=e[e.length-1].frame,j=a<=f,k=a>=i,l,m;if(j||k){var n=e[j?0:e.length-1].props;for(l in n)d.call(n,l)&&(m=W(n[l].value),X(c.element,l,m));c[v]&&(a<f||a>i)&&(Z(c.element,[h],[g]),c[v]=!1);continue}c[v]||(Z(c.element,[g],[h]),c[v]=!0);for(var o=0;o<e.length-1;o++)if(a>=e[o].frame&&a<=e[o+1].frame){var p=e[o],q=e[o+1];for(l in p.props)if(d.call(p.props,l)){var r=(a-p.frame)/(q.frame-p.frame);r=p.props[l].easing(r),m=V(p.props[l].value,q.props[l].value,r),m=W(m),X(c.element,l,m)}break}}},Q=function(){var a=bc.getScrollTop(),b,d=ba(),e;if(bn)d>=bn.endTime?(a=bn.targetTop,b=bn.done,bn=c):(e=bn.easing((d-bn.startTime)/bn.duration),a=bn.startTop+e*bn.topDiff|0),bc.setScrollTop(a);else if(bo){var f=bo.targetTop-a;f&&(Math.abs(f)>=p?(console.log(f),bo={startTop:bo.targetTop,topDiff:a-bo.targetTop,targetTop:a,startTime:d,endTime:d+n}):bo.startTop=a),d<=bo.endTime&&(e=M.linear((d-bo.startTime)/n),a=bo.startTop+e*bo.topDiff|0)}a<0&&(a=0);if(bp||bm!==a){bl=a>=bm?"down":"up",bp=!1;var g={curTop:a,lastTop:bm,maxTop:bh,direction:bl},h=bf.beforerender&&bf.beforerender.call(bc,g);h!==!1&&(P(a),bm=a,bf.render&&bf.render.call(bc,g)),b&&b.call(bc,!1)}},R=function(a){for(var b=0;b<a.keyFrames.length;b++){var c=a.keyFrames[b],d=c.props.split(A),e,f,g;c.props={};for(var h=0;h<d.length-1;h+=2)e=$(d[h]),f=$(d[h+1]),g=e.match(B),g!==null?(e=g[1],g=g[2]):g=l,f=f.indexOf("!")?S(f):[f.slice(1)],c.props[e]={value:f,easing:M[g]}}},S=function(a){var b=[];return F.lastIndex=0,a=a.replace(F,function(a){return a.replace(E,function(a){return a/255*100+"%"})}),G.lastIndex=0,a=a.replace(G,function(a){return J+a}),a=a.replace(E,function(a){return b.push(+a),"?"}),b.unshift(a),b},T=function(a){var b={},c;for(c=0;c<a.keyFrames.length;c++)U(a.keyFrames[c],b);b={};for(c=a.keyFrames.length-1;c>=0;c--)U(a.keyFrames[c],b)},U=function(a,b){var c;for(c in b)d.call(a.props,c)||(a.props[c]=b[c]);for(c in a.props)b[c]=a.props[c]},V=function(a,b,c){if(a.length!==b.length)throw"Can't interpolate between \""+a[0]+'" and "'+b[0]+'"';var d=[a[0]];for(var e=1;e<a.length;e++)d[e]=a[e]+(b[e]-a[e])*c;return d},W=function(a){var b=1;return a[0].replace(/\?/g,function(){return a[b++]})},X=function(a,b,c){var d=a.style;b=b.replace(C,D).replace("-","");if(b==="zIndex")d[b]=""+(c|0);else try{d[I+b.slice(0,1).toUpperCase()+b.slice(1)]=c,d[b]=c}catch(e){}if(bd.setStyle)for(var f=0;f<bd.setStyle.length;f++)bd.setStyle[f].call(bc,a,b,c)},Y=function(b,c){a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent("on"+b,c)},Z=function(b,c,d){var e="className";a.SVGElement&&b instanceof a.SVGElement&&(b=b[e],e="baseVal");var f=b[e];for(var g=0;g<c.length;g++)_(f).indexOf(_(c[g]))===-1&&(f+=" "+c[g]);for(var h=0;h<d.length;h++)f=_(f).replace(_(d[h])," ");b[e]=$(f)},$=function(a){return a.replace(y,"$1")},_=function(a){return" "+a+" "},ba=function(){return+(new Date)},bb=function(a,b){return a.frame-b.frame},bc,bd={},be=[],bf,bg,bh=0,bi,bj=1,bk,bl="down",bm=-1,bn,bo,bp,bq=0;a.skrollr={init:function(a){return bc||new N(a)},plugin:function(a,b){bd[a]?bd[a].push(b):bd[a]=[b]},VERSION:"0.4.8"}})(window,document);