/*! skrollr v0.3.10 https://github.com/Prinzhorn/skrollr | free to use under terms of MIT license */(function(a,b,c){function A(a){Q=this,a=a||{};if(a.easing)for(var e in a.easing)z[e]=a.easing[e];U={beforerender:a.beforerender||d,render:a.render||d},V=a.forceHeight!==!1,V&&(X=a.scale||1);var h=b.getElementsByTagName("*");for(var j=0;j<h.length;j++){var k=h[j],l=[];if(!k.attributes)continue;for(var m=0;m<k.attributes.length;m++){var o=k.attributes[m],p=o.name.match(n);if(p!==null){var q=(p[2]|0)*X,r={frame:q,props:o.value};l.push(r),p[1]==="-end"&&(r.dataEnd=r.frame,T.push(r)),q>W&&(W=q)}}l.length&&(S.push({element:k,keyFrames:l}),K(k,i))}var s=function(){for(var a=0;a<T.length;a++){var b=T[a];b.frame=W-b.dataEnd}},t;if(V){var u=b.createElement("div"),v=u.style;v.width="1px",v.position="absolute",v.right=v.top=v.zIndex="0",g.appendChild(u),t=function(){v.height=W+f.clientHeight+"px",s()}}else t=function(){W=g.scrollHeight-f.clientHeight,s(),ab=!0};L("resize",t),t();for(var j=0;j<S.length;j++){var w=S[j];w.keyFrames.sort(function(a,b){return a.frame-b.frame}),D(w),F(w)}return L("scroll",function(){_=c}),h=a=c,C(),Q}"use strict";var d=function(){},e=Object.prototype.hasOwnProperty,f=b.documentElement,g=b.body,h="hidden",i="skrollable",j="linear",k=1e3,l=a.requestAnimationFrame||a.webkitRequestAnimationFrame||a.mozRequestAnimationFrame||a.oRequestAnimationFrame||a.msRequestAnimationFrame||function(a){setTimeout(a,1e3/30)},m=/^\s*(.*)\s$/,n=/^data(-end)?-?(\d+)?$/,o=/:|;/g,p=/^([a-z-]+)\[(\w+)\]$/,q=/-([a-z])/g,r=/(:?\+|-)?[\d.]+/g,s=/rgba?\(\s*-?\d+\s*,\s*-?\d+\s*,\s*-?\d+/g,t=/[a-z-]+-gradient/g,u=/^O|Moz|webkit|ms/,v,w;if(a.getComputedStyle){var x=a.getComputedStyle(g,null);for(var y in x)if(v=y.match(u)||+y==y&&x[y].match(u))break}v=(v||[""])[0],w="-"+v.toLowerCase()+"-",u=c;var z={begin:function(){return 0},end:function(){return 1},linear:function(a){return a},quadratic:function(a){return a*a},cubic:function(a){return a*a*a},swing:function(a){return-Math.cos(a*Math.PI)/2+.5},bounce:function(a){var b;switch(!0){case a<=.5083:b=3;break;case a<=.8489:b=9;break;case a<=.96208:b=27;break;case a<=.99981:b=91;break;default:return 1}return 1-Math.abs(3*Math.cos(a*b*1.028)/b)}};A.prototype.animateTo=function(a,b){b=b||{};var e=P();_={startTop:Q.getScrollTop(),topDiff:a-Q.getScrollTop(),targetTop:a,duration:b.duration||k,startTime:e,endTime:e+(b.duration||k),easing:z[b.easing||j],done:b.done||d},_.topDiff||(_.done.call(Q),_=c)},A.prototype.setScrollTop=function(b){a.scroll(0,b)},A.prototype.getScrollTop=function(b){return a.pageYOffset||f.scrollTop||g.scrollTop||0},A.prototype.on=function(a,b){U[a]=b||d},A.prototype.off=function(a){U[a]=d};var B=function(a,b){var c=a.keyFrames;if(b<c[0].frame)K(a.element,h);else if(b>=c[c.length-1].frame){M(a.element,h);var d=c[c.length-1],f;for(var g in d.props)e.call(d.props,g)&&(f=I(d.props[g].value),J(a.element,g,f))}else{M(a.element,h);for(var i=0;i<c.length-1;i++)if(b>=c[i].frame&&b<=c[i+1].frame){var j=c[i],k=c[i+1];for(var g in j.props)if(e.call(j.props,g)){var l=(b-j.frame)/(k.frame-j.frame);l=j.props[g].easing(l);var f=H(j.props[g].value,k.props[g].value,l);f=I(f),J(a.element,g,f)}break}}},C=function(){var a=d;if(_){var b=P();if(b>=_.endTime)Q.setScrollTop(_.targetTop),a=_.done,_=c;else{var e=_.easing((b-_.startTime)/_.duration);Q.setScrollTop(_.startTop+e*_.topDiff|0)}}$=Q.getScrollTop(),$<0&&($=0);if(ab||Z!==$){Y=$>=Z?"down":"up",ab=!1;var f={curTop:$,lastTop:Z,maxTop:W,direction:Y},g=U.beforerender.call(Q,f);if(g!==!1){for(var h=0;h<S.length;h++)B(S[h],$);Z=$,U.render.call(Q,f)}a.call(Q)}l(function(){C()})},D=function(a){for(var b=0;b<a.keyFrames.length;b++){var c=a.keyFrames[b],d=c.props.split(o),e,f,g;c.props={};for(var h=0;h<d.length-1;h+=2)e=d[h],f=d[h+1],g=e.match(p),g!==null?(e=g[1],g=g[2]):g=j,f=f.indexOf("!")?E(f):[f.slice(1)],c.props[e]={value:f,easing:z[g]}}},E=function(a){var b=[];return s.lastIndex=0,a=a.replace(s,function(a){return a.replace(r,function(a){return a/255*100+"%"})}),t.lastIndex=0,a=a.replace(t,function(a){return w+a}),a=a.replace(r,function(a){return b.push(+a),"?"}),b.unshift(a),b},F=function(a){var b={};for(var c=0;c<a.keyFrames.length;c++)G(a.keyFrames[c],b);b={};for(var c=a.keyFrames.length-1;c>=0;c--)G(a.keyFrames[c],b)},G=function(a,b){for(var c in b)e.call(a.props,c)||(a.props[c]=b[c]);for(var c in a.props)b[c]=a.props[c]},H=function(a,b,c){if(a.length!==b.length)throw"Can't interpolate between \""+a[0]+'" and "'+b[0]+'"';var d=[a[0]];for(var e=1;e<a.length;e++)d[e]=a[e]+(b[e]-a[e])*c;return d},I=function(a){var b=1;return a[0].replace(/\?/g,function(){return a[b++]})},J=function(a,b,c){var d=a.style;b=b.replace(q,function(a,b){return b.toUpperCase()}).replace("-","");if(b==="zIndex")d[b]=""+(c|0);else try{d[v+b.slice(0,1).toUpperCase()+b.slice(1)]=c,d[b]=c}catch(e){}if(R.setStyle)for(var f=0;f<plugins.setStyle.length;f++)R.setStyle[0].call(this,a,b,c)},K=function(a,b){O(a.className).indexOf(O(b))===-1&&(a.className=N(a.className+" "+b))},L=function(b,c){a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent("on"+b,c)},M=function(a,b){a.className=N(O(a.className).replace(O(b)," "))},N=function(a){return a.replace(m,"$1")},O=function(a){return" "+a+" "},P=function(){return+(new Date)},Q,R={},S=[],T=[],U,V,W=0,X=1,Y="down",Z=-1,$=0,_,ab;a.skrollr={init:function(a){return Q||new A(a)},plugin:function(a,b){R[a]?R[a].push(b):R[a]=[b]},VERSION:"0.3.10"}})(window,document);